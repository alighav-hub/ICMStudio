<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ICM Studio</title>
    <link rel="stylesheet" href="../styles.css" />
  </head>
  <body>
    <div id="app">
      <button id="globalMenuBtn" class="hamburger" aria-label="Open menu" title="Menu">
        <span></span><span></span><span></span>
      </button>

      <nav id="sideNav" class="side-nav" aria-label="Main navigation">
        <button id="closeNav" class="close-nav" aria-label="Close menu">×</button>
        <a href="../index.html#home" data-nav="home">Home</a>
        <div class="nav-group">
          <a href="#" class="nav-group-toggle">Effects</a>
          <div class="nav-group-menu">
            <a href="icm_studio.html" data-nav="studio">ICM Studio</a>
            <a href="light_leak.html" data-nav="light-leak">Light Leak</a>
            <a href="double_exposure.html" data-nav="double-exposure">Double Exposure</a>
            <a href="tilt_shift.html" data-nav="tilt-shift">Tilt Shift</a>
            <a href="chromatic.html" data-nav="chromatic">Chromatic</a>
            <a href="xfun.html" data-nav="xfun">Xfun</a>
          </div>
        </div>
        <a href="../index.html#learning" data-nav="learning">Learning</a>
        <a href="../index.html#contact" data-nav="contact">Contact</a>
      </nav>

      <main id="content">
        <section id="studio" class="route active">
          <header class="route-header">
            <h1>ICM Studio</h1>
          </header>

          <div class="studio-layout">
            <div class="menu-frame">
              <div class="menu-left"></div>
              <div class="menu-right">
                <div class="export">
                  <button id="uploadBtn" class="btn">Upload</button>
                  <button id="exportActual" class="btn">Export Actual</button>
                  <button id="exportMedium" class="btn">Export Medium</button>
                  <button id="exportSmall" class="btn">Export Small</button>
                </div>
              </div>
            </div>

            <div class="image-frame">
              <div class="canvas-wrap" id="outputWrap">
                <canvas id="outputCanvas" aria-label="Processed image canvas" tabindex="0"></canvas>
              </div>
            </div>

            <div class="adjust-frame">
              <div class="panel controls-panel">
                <div class="controls">
                  <label class="control">
                    <span>Blur Size</span>
                    <input id="blurSize" type="range" min="1" max="50" value="10" />
                    <span class="value" id="blurSizeVal">10 px</span>
                  </label>
                  <label class="control">
                    <span>Rotation</span>
                    <input id="rotation" type="range" min="0" max="360" value="0" />
                    <span class="value" id="rotationVal">0°</span>
                  </label>
                </div>
              </div>

              <div class="panel spline-panel">
                <div class="panel-header">
                  <span>Spline Editor</span>
                </div>
                <div class="canvas-wrap fixed" id="splineWrap">
                  <canvas id="splineCanvas" width="200" height="200" aria-label="Spline editor canvas" tabindex="0"></canvas>
                </div>
                <div class="legend">
                  <div><span class="legend-color path"></span>Path</div>
                  <div><span class="legend-color point"></span>Point</div>
                </div>
                <div class="tips">
                  <ul>
                    <li>Drag red squares to move points</li>
                    <li>Tap empty area to add point (≥ 10 px from others)</li>
                    <li>Double tap/click a point to remove it</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>

      <input id="fileInput" type="file" accept="image/*" hidden />
    </div>

    <div id="uploadHint" class="upload-hint">
      Tap or click to upload an image
    </div>

    <script src="../script.js" defer></script>
    <script src="../icm_studio_app.js" defer></script>
  </body>
</html>
